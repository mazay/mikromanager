{{ define "nav-devices" }}active{{ end }}
{{ define "content" }}
<div class="container">
  <legend class="text-center display-6">Device details</legend>
  <hr class="border {{ if eq .PollingSucceeded 0 }}border-danger{{ else }}border-primary{{ end }} border-3 opacity-75">
  <div class="row align-items-start">
    <div class="col">
      <dl class="row">
        <dt class="col-sm-3">Identity</dt>
        <dd class="col-sm-9">{{ .Identity }}</dd>

        <dt class="col-sm-3">Arch</dt>
        <dd class="col-sm-9">{{ .ArchitectureName }}</dd>

        <dt class="col-sm-3">BoardName</dt>
        <dd class="col-sm-9"><a href="{{ if eq .BoardName "CHR" }}https://help.mikrotik.com/docs/pages/viewpage.action?pageId=18350234{{ else }}https://mikrotik.com/products?filter&s=c&search={{ .BoardName }}{{ end }}" target="_blank">{{ .BoardName }}</a></dd>

        <dt class="col-sm-3">CPU</dt>
        <dd class="col-sm-9">{{ .CPU }}</dd>

        <dt class="col-sm-3">CPU Count</dt>
        <dd class="col-sm-9">{{ .CpuCount }}</dd>

        <dt class="col-sm-3">CPU Frequency</dt>
        <dd class="col-sm-9">{{ if .CpuFrequency }}{{ .CpuFrequency }}{{ else }}N/A{{ end }}</dd>

        <dt class="col-sm-3">Platform</dt>
        <dd class="col-sm-9">{{ .Platform }}</dd>
      </dl>
    </div>
    <div class="col">
      <dl class="row">
        <dt class="col-sm-3">CPU Load</dt>
        <dd class="col-sm-9">{{ .CpuLoad }}%</dd>

        <dt class="col-sm-3">Memory Usage</dt>
        <dd class="col-sm-9">{{ if and .TotalMemory .FreeMemory }}{{ memoryUsage .TotalMemory .FreeMemory }}%{{ end }}</dd>

        <dt class="col-sm-3">Last Polled</dt>
        <dd class="col-sm-9">{{ .PolledAt.Format "2006-01-02 15:04:05" }}</dd>

        <dt class="col-sm-3">Version</dt>
        <dd class="col-sm-9">{{ .Version }}</dd>

        <dt class="col-sm-3">BuildTime</dt>
        <dd class="col-sm-9">{{ .BuildTime }}</dd>

        <dt class="col-sm-3">Created</dt>
        <dd class="col-sm-9">{{ .Created.Format "2006-01-02 15:04:05" }}</dd>

        <dt class="col-sm-3">Updated</dt>
        <dd class="col-sm-9">{{ .Updated.Format "2006-01-02 15:04:05" }}</dd>
      </dl>
    </div>
  </div>
</div>
{{ end }}
